---
title: Where there is great power, there is great responsibility.
categories:

    - Powershell

tags:

    - Intune
    - Azure
    - Encryption
    - Runbook
    - Credentials
    - Automation

excerpt: Learn how minimize the risk behind automation service accounts 

comments: true
toc: true
toc_label: Table of contents
---

# Intro

Using service accounts is one way to manage environment beside `Azure Service Principals`.
Having privileged account which password is not changed won't pose a great threat (unless the password is 1234 üòµ) but it is attack vector.
Alright let's assume that someone guessed password.
If this account has e.g. Global Administrator role then you are immediately Fü¶Ü(-D)ed.
Other wise it's not great but under control.
Such accounts MUST be secured using top-notch, cutting edge technology.
With help comes `Azure KeyVault` üîê and  `Azure AD Privileged Identity Management` üëÆüèª‚Äç‚ôÇÔ∏è.

# Prerequisites

* `Azure AD Privileged Identity Management` - Using this feature requires an Azure AD Premium P2 license.
* `Azure KeyVault` - Anybody with an Azure subscription
* `Azure Automation` - Anybody with an Azure subscription. First 500 minutes per month are FREE then $0.002/minute
* *(Optionally but recommended)* `Azure DevOps Repository` - If you're a Visual Studio subscriber and you get Azure DevOps as a benefit, use the Microsoft account associated with your subscription.
If you don't have a Microsoft account, choose Create one.

# Privilaged Service Account Management

![PSAM1]({{ site.url }}{{ site.baseurl }}/assets/images/posts/2021-01-11-PSAM/PSAM1.jpg)

On the flow chart above **PSAM** solution ends at the red line, behind it you implement your job that automation account was created for.
In my example I'm checking `Azure AD` for `Bitlocker Recovery Keys`. 